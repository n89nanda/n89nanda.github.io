<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Nanda Bhat's Personal Blog]]></title><description><![CDATA[All things software]]></description><link>https://n89nanda.github.io/</link><image><url>https://n89nanda.github.io/favicon.png</url><title>Nanda Bhat&apos;s Personal Blog</title><link>https://n89nanda.github.io/</link></image><generator>Ghost 5.23</generator><lastBuildDate>Fri, 25 Nov 2022 01:22:25 GMT</lastBuildDate><atom:link href="https://n89nanda.github.io/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[How to create a blog using Hugo and Github Pages]]></title><description><![CDATA[<!--kg-card-begin: markdown--><p>We will be building a blog from scratch using the amazing <a href="https://gohugo.io/">Hugo</a> framework and deploying it for free using <a href="https://pages.github.com/">Github Pages</a> with a custom subdomain!</p>
<h2 id="why-hugo">Why Hugo?</h2>
<p>Hugo is simple, fast and is written in Go. It has amazing community support and a wide varity of themes.</p>
<p>Personally, I just</p>]]></description><link>https://n89nanda.github.io/how-to-create-a-blog-using-hugo-and-github-pages/</link><guid isPermaLink="false">6380152f87fbe80001b192f0</guid><category><![CDATA[quick-start]]></category><category><![CDATA[hugo]]></category><category><![CDATA[blog]]></category><category><![CDATA[cms]]></category><dc:creator><![CDATA[Nanda]]></dc:creator><pubDate>Fri, 25 Nov 2022 01:09:19 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1618401471353-b98afee0b2eb?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxMTc3M3wwfDF8c2VhcmNofDF8fGdpdGh1YnxlbnwwfHx8fDE2NjkzMzg1MDQ&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=2000" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="https://images.unsplash.com/photo-1618401471353-b98afee0b2eb?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxMTc3M3wwfDF8c2VhcmNofDF8fGdpdGh1YnxlbnwwfHx8fDE2NjkzMzg1MDQ&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=2000" alt="How to create a blog using Hugo and Github Pages"><p>We will be building a blog from scratch using the amazing <a href="https://gohugo.io/">Hugo</a> framework and deploying it for free using <a href="https://pages.github.com/">Github Pages</a> with a custom subdomain!</p>
<h2 id="why-hugo">Why Hugo?</h2>
<p>Hugo is simple, fast and is written in Go. It has amazing community support and a wide varity of themes.</p>
<p>Personally, I just want to write my blog posts as markdown files, push it to github and want it to be live with zero work and Hugo allows me to do just that!</p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#installs-and-setups">Installs and setups</a></li>
<li><a href="#create-a-new-blog-and-run-it-locally">Create a new blog and run it locally</a></li>
<li><a href="#create-a-new-post-and-verify-it-locally">Create a new post and verify it locally</a></li>
<li><a href="#generate-static-files-and-see-it-live-in-github-pages">Generate static files and see it live in Github Pages</a></li>
<li><a href="#enable-custom-sub-domain">Enable Custom Sub Domain</a></li>
</ul>
<h2 id="installs-and-setups">Installs and setups</h2>
<ol>
<li>Install <code>hugo</code> CLI using homebrew
<ul>
<li><code>brew install hugo</code></li>
</ul>
</li>
<li>Setup 2 new git repository using GitHub. For e.g. Lets say your account name is <code>rockstarblogger</code>.
<ul>
<li><code>rockstarblogger/blog</code> - This will contain our static blogs + Hugo project files</li>
<li><code>rockstarblogger/rockstarblogger.github.io</code> - This will contain only our final static files required for our blog.
<ul>
<li>Create an empty <code>README.md</code> commit. This will come in handy later.</li>
</ul>
</li>
</ul>
<blockquote>
<p>Note the name of the second repo, Github makes it easy if you follow the naming convention of <code>&lt;account_name&gt;.github.io</code></p>
</blockquote>
</li>
<li>Choose a <a href="https://themes.gohugo.io/">Hugo Theme</a>. We will be using <a href="https://themes.gohugo.io/themes/hyde/">Hyde</a> for this new blog.</li>
</ol>
<h2 id="create-a-new-blog-and-run-it-locally">Create a new blog and run it locally</h2>
<ol>
<li>Lets clone the first repo <code>blog</code> to house all our project files.</li>
</ol>
<pre><code>~ % git clone https://github.com/rockstarblogger/blog.git
~ % cd blog
blog %  
</code></pre>
<ol start="2">
<li>Create a new Hugo site <code>rockstarblogger</code> inside the new directory <code>~/blog</code></li>
</ol>
<pre><code>blog % hugo new site rockstarblogger
Congratulations! Your new Hugo site is created in ~/blog/rockstarblogger.
</code></pre>
<ol start="3">
<li>Download the theme under <code>~/blog/rockstarblogger/themes</code> directory</li>
</ol>
<pre><code>blog % cd rockstarblogger/themes
themes % git clone https://github.com/spf13/hyde.git
Cloning into &apos;hyde&apos;...
remote: Enumerating objects: 424, done.
remote: Counting objects: 100% (5/5), done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 424 (delta 0), reused 2 (delta 0), pack-reused 419
Receiving objects: 100% (424/424), 837.74 KiB | 7.41 MiB/s, done.
Resolving deltas: 100% (199/199), done.
</code></pre>
<ol start="4">
<li>Append the theme <code>theme = &apos;hyde&apos;</code> to <code>~/blog/rockstarblogger/config.toml</code></li>
</ol>
<pre><code>blog % cd rockstarblogger
rockstarblogger % vi config.toml

baseURL = &apos;https://rockstarblogger.github.io/&apos;
languageCode = &apos;en-us&apos;
title = &apos;rockstarblogger blog&apos;
theme = &apos;hyde&apos;
</code></pre>
<ol start="5">
<li>Lets run this using <code>hugo serve</code> and our new site should be live at <code>http://localhost:1313/ </code>!!!</li>
</ol>
<pre><code>rockstarblogger % hugo serve
Start building sites &#x2026; 
hugo v0.101.0+extended darwin/amd64 BuildDate=unknown

                   | EN  
-------------------+-----
  Pages            | 10  
  Paginator pages  |  0  
  Non-page files   |  0  
  Static files     |  6  
  Processed images |  0  
  Aliases          |  0  
  Sitemaps         |  1  
  Cleaned          |  0  

Built in 22 ms
Watching for changes in ~/blog/rockstarblogger/{archetypes,content,data,layouts,static,themes}
Watching for config changes in ~/blog/rockstarblogger/config.toml
Environment: &quot;development&quot;
Serving pages from memory
Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)
Press Ctrl+C to stop
</code></pre>
<h2 id="create-a-new-post-and-verify-it-locally">Create a new post and verify it locally</h2>
<ol>
<li>Now that we have tested our new site, lets create our first blog post</li>
</ol>
<pre><code>rockstarblogger % hugo new posts/firstpost.md
rockstarblogger % vi content/posts/firstpost.md
</code></pre>
<blockquote>
<p>Set <code>draft: false</code> in the markdown files to be able to view it.</p>
</blockquote>
<ol start="2">
<li>Lets verify and see our new blog post locally</li>
</ol>
<pre><code>rockstarblogger % hugo serve
</code></pre>
<h2 id="generate-static-files-and-see-it-live-in-github-pages">Generate static files and see it live in Github Pages</h2>
<ol>
<li>Lets add <code>rockstarblogger/rockstarblogger.github.io</code> as git sub-module and rename it to our existing <code>public</code> folder</li>
</ol>
<pre><code>rockstarblogger % git submodule add -b main https://github.com/rockstarblogger/rockstarblogger.github.io.git public
</code></pre>
<ol start="2">
<li>Now if we navigate to <code>public</code> folder, we should see the 1 commit with the new <code>origin</code>.</li>
</ol>
<pre><code>rockstarblogger % cd public &amp;&amp; ls
public % README.md
public % git remote -v 
origin  https://github.com/rockstarblogger/rockstarblogger.github.io.git (fetch)
origin  https://github.com/rockstarblogger/rockstarblogger.github.io.git (push)
</code></pre>
<ol start="3">
<li>Generate static files using <code>hugo</code> cmd</li>
</ol>
<pre><code>rockstarblogger % hugo
Start building sites &#x2026; 
hugo v0.101.0+extended darwin/amd64 BuildDate=unknown

                   | EN  
-------------------+-----
  Pages            | 10  
  Paginator pages  |  0  
  Non-page files   |  0  
  Static files     |  6  
  Processed images |  0  
  Aliases          |  0  
  Sitemaps         |  1  
  Cleaned          |  0  

Total in 44 ms
</code></pre>
<ol start="4">
<li>Verify the new static files under <code>public</code> directory</li>
</ol>
<pre><code>rockstarblogger % cd public &amp;&amp; ls
</code></pre>
<ol start="5">
<li>Push the static files to <code>rockstarblogger/rockstarblogger.github.io</code></li>
</ol>
<pre><code>public % git add .
public % git commit -m &quot;first commit containing all static files&quot;
public % git push origin main
</code></pre>
<ol start="6">
<li>Enable Github pages under <code>Settings</code> for <code>rockstarblogger/rockstarblogger.github.io</code> and see the blog live under <code>https://rockstarblogger.github.io</code></li>
</ol>
<h2 id="enable-custom-sub-domain">Enable Custom Sub Domain</h2>
<ol>
<li>Add a <code>CNAME</code> entry pointing to <code>https://rockstarblogger.github.io</code> with <code>Host</code> set as <code>blog</code> as an example. This will allow your blog to be accessible under <code>https://blog.example.com</code></li>
<li>Add a new file with filename <code>CNAME</code> in <code>rockstarblogger.github.io</code> repo with one single line <code>blog.example.com</code>.</li>
<li>Push and see the blog live!!</li>
</ol>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[How to parse Command Line arguments in Go]]></title><description><![CDATA[Simple snippet to retrieve and validate CLI args in Go]]></description><link>https://n89nanda.github.io/how-to-parse-command-line-arguments-in-go/</link><guid isPermaLink="false">6380135387fbe80001b192d2</guid><category><![CDATA[Snippets]]></category><category><![CDATA[cli]]></category><category><![CDATA[fileio]]></category><category><![CDATA[go]]></category><dc:creator><![CDATA[Nanda]]></dc:creator><pubDate>Fri, 25 Nov 2022 01:04:03 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1516031190212-da133013de50?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxMTc3M3wwfDF8c2VhcmNofDF8fGNsaXxlbnwwfHx8fDE2NjkzMzgwMzY&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=2000" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="package">Package</h2>
<ul>
<li><code>os</code></li>
</ul>
<h2 id="concept">Concept</h2>
<ul>
<li>When passing cli args after the executable, our program receives a slice containing <code>[program name, args1, args2, ...]</code></li>
</ul>
<h2 id="print-all-args-including-program-name">Print all args including program name</h2>
<pre><code>fmt.Println(os.Args)
</code></pre>
<h2 id="print-only-args">Print only args</h2>
<pre><code>fmt.Println(os.Args[1:])
</code></pre>
<h2 id="print-number-of-args">Print number of args</h2>
<pre><code>fmt.Println(len(os.Args[1:]))
</code></pre>
<h2 id="validate-file-extension-if-the-first-arg-is-a-file">Validate file extension if the first arg is a file</h2>
<pre><code>if !strings.Contains(os.Args[1:], &quot;.html&quot;) {
</code></pre>
<h2 id="validate-number-of-arguments-passed">Validate number of arguments passed</h2>
<pre><code>len(os.Args[1:])
</code></pre>
<h2 id="validate-if-file-exists-if-the-first-arg-is-a-filename">Validate if file exists, if the first arg is a filename</h2>
<pre><code>if _, err := os.Stat(os.Args[1:]); err == nil {
		&lt;!-- file exists! --&gt;
} else if errors.Is(err, os.ErrNotExist) {
    panic(err)

}
</code></pre>
<h2 id="full-example">Full example</h2>
<pre><code>package main
import (
    &quot;fmt&quot;
    &quot;os&quot;
)
// Validate args count
func validateArgsCount(args []string) {
	if len(args) != 1 {
		err := fmt.Sprintf(&quot;Expected args: 1, Found %d %s&quot;, len(args), args)
		panic(err)
	}
}

// Validate args file type
func validateArgsFileExtension(argsWithoutProg []string) {
	if !strings.Contains(argsWithoutProg[0], &quot;.html&quot;) {
		err := fmt.Sprintf(&quot;Expected file extension: *.html, Found %s&quot;, argsWithoutProg[0])
		panic(err)
	}
}

// Validate existence of file
func validateFileExist(argsWithoutProg []string) {
	htmlExportFileName := argsWithoutProg[0]
	if _, err := os.Stat(htmlExportFileName); err == nil {
		// no-op file exists!
	} else if errors.Is(err, os.ErrNotExist) {
		err := fmt.Sprintf(&quot;Cannot find %s in current directory&quot;, argsWithoutProg[0])
		panic(err)

	}
}
func main () {
    // Get CLI args for an input html filename
	argsWithoutProg := os.Args[1:]
	// Validate cli args
	validateArgsCount(argsWithoutProg)
	validateArgsFileExtension(argsWithoutProg)
	validateFileExist(argsWithoutProg)
}
</code></pre>
<!--kg-card-end: markdown-->]]></content:encoded></item></channel></rss>